{
    "id": "cdc2e9cb-53af-4dc8-bb83-20accacd9f43",
    "scriptName": "【5】快回",
    "findRegex": "<reply>([\\s\\S]*?)<\\/reply>",
    "replaceString": "```html\n<body>\n  <div class=\"container\">\n    <div class=\"dialog-container\">\n      <div class=\"dialog-header\">\n        <h2 class=\"dialog-title\">Sudachi</h2>\n        <p class=\"dialog-subtitle\">请选择以下选项之一</p>\n      </div>\n      \n      <div id=\"options-render-target\" class=\"options-container\">\n        <!-- Options will be rendered here by JavaScript -->\n      </div>\n      \n      <div class=\"dialog-actions\">\n        <button class=\"md-button md-button-text\" onclick=\"closeDialog()\">\n          <span class=\"md-button-label\">取消</span>\n        </button>\n      </div>\n    </div>\n  </div>\n\n  <script>\n    // Material Design 3 styling\n    const style = document.createElement('style');\n    style.textContent = `\n      .container {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        min-height: 100vh;\n        padding: 16px;\n      }\n      \n      .dialog-container {\n        background-color: var(--md-sys-color-surface);\n        color: var(--md-sys-color-on-surface);\n        border-radius: 28px;\n        padding: 24px;\n        width: 100%;\n        max-width: 560px;\n        box-shadow: var(--md-sys-elevation-level3);\n      }\n      \n      .dialog-header {\n        margin-bottom: 24px;\n      }\n      \n      .dialog-title {\n        margin: 0 0 8px 0;\n        font: var(--md-sys-typescale-headline-small-font);\n        color: var(--md-sys-color-on-surface);\n      }\n      \n      .dialog-subtitle {\n        margin: 0;\n        font: var(--md-sys-typescale-body-medium-font);\n        color: var(--md-sys-color-on-surface-variant);\n      }\n      \n      .options-container {\n        display: flex;\n        flex-direction: column;\n        gap: 12px;\n        margin-bottom: 24px;\n      }\n      \n      .option-card {\n        padding: 16px;\n        border-radius: 12px;\n        background-color: var(--md-sys-color-surface-variant);\n        color: var(--md-sys-color-on-surface-variant);\n        font: var(--md-sys-typescale-body-large-font);\n        cursor: pointer;\n        transition: all 150ms ease;\n        border: 1px solid transparent;\n      }\n      \n      .option-card:hover {\n        background-color: var(--md-sys-color-surface-tint);\n        transform: translateY(-2px);\n      }\n      \n      .option-card:active {\n        background-color: var(--md-sys-color-surface-tint-color);\n      }\n      \n      .dialog-actions {\n        display: flex;\n        justify-content: flex-end;\n      }\n      \n      .md-button {\n        display: inline-flex;\n        align-items: center;\n        justify-content: center;\n        border: none;\n        border-radius: 20px;\n        padding: 10px 24px;\n        cursor: pointer;\n        background: transparent;\n        transition: background-color 150ms ease;\n      }\n      \n      .md-button-text {\n        color: var(--md-sys-color-primary);\n      }\n      \n      .md-button-text:hover {\n        background-color: var(--md-sys-color-surface-tint);\n      }\n      \n      .md-button-label {\n        font: var(--md-sys-typescale-label-large-font);\n        letter-spacing: var(--md-sys-typescale-label-large-letter-spacing);\n      }\n      \n      :root {\n        --md-sys-color-primary: #6750A4;\n        --md-sys-color-on-primary: #FFFFFF;\n        --md-sys-color-primary-container: #EADDFF;\n        --md-sys-color-on-primary-container: #21005D;\n        --md-sys-color-secondary: #625B71;\n        --md-sys-color-on-secondary: #FFFFFF;\n        --md-sys-color-secondary-container: #E8DEF8;\n        --md-sys-color-on-secondary-container: #1D192B;\n        --md-sys-color-surface: #FFFBFE;\n        --md-sys-color-surface-variant: #E7E0EC;\n        --md-sys-color-surface-tint: rgba(103, 80, 164, 0.08);\n        --md-sys-color-surface-tint-color: rgba(103, 80, 164, 0.12);\n        --md-sys-color-on-surface: #1C1B1F;\n        --md-sys-color-on-surface-variant: #49454F;\n        --md-sys-elevation-level3: 0 1px 3px 1px rgba(0, 0, 0, 0.15), 0 1px 2px rgba(0, 0, 0, 0.3);\n        \n        --md-sys-typescale-headline-small-font: 500 1.5rem/2rem Roboto, sans-serif;\n        --md-sys-typescale-body-large-font: 400 1rem/1.5rem Roboto, sans-serif;\n        --md-sys-typescale-body-medium-font: 400 0.875rem/1.25rem Roboto, sans-serif;\n        --md-sys-typescale-label-large-font: 500 0.875rem/1.25rem Roboto, sans-serif;\n        --md-sys-typescale-label-large-letter-spacing: 0.0071428571rem;\n      }\n    `;\n    document.head.appendChild(style);\n\n    const optionsTextContent = `\n{{match}}\n`;\n\n    const individualOptions = optionsTextContent.trim().split(/\\r?\\n/).filter(line => line.trim() !== '');\n    const renderContainer = document.getElementById('options-render-target');\n\n    if (renderContainer) {\n      individualOptions.forEach(optionText => {\n        const cardDiv = document.createElement('div');\n        cardDiv.className = 'option-card';\n        cardDiv.textContent = optionText.trim();\n\n        cardDiv.onclick = async () => {\n          if (typeof triggerSlash === 'function') {\n            await triggerSlash(`/send ${optionText.trim()}`);\n            await triggerSlash(`/trigger`);\n            // Remove the dialog from DOM instead of using /close\n            document.querySelector('.container').remove();\n          } else {\n            console.log(\"SillyTavern API 'triggerSlash' not found. Action: /send \" + optionText.trim());\n          }\n        };\n        renderContainer.appendChild(cardDiv);\n      });\n    }\n\n    function closeDialog() {\n      // Remove the dialog from DOM instead of using /close\n      document.querySelector('.container').remove();\n    }\n  </script>\n</body>\n```",
    "trimStrings": [
        "<reply>",
        "</reply>"
    ],
    "placement": [
        2
    ],
    "disabled": false,
    "markdownOnly": true,
    "promptOnly": false,
    "runOnEdit": true,
    "substituteRegex": 0,
    "minDepth": 0,
    "maxDepth": 1
}